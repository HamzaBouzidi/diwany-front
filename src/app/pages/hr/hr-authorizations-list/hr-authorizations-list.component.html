<div class="search-container">
 <input type="text" [(ngModel)]="searchTerm" placeholder="ุงุจุญุซ ุนู ุงูููุธู ุฃู ููุน ุงูุฅุฐู" class="search-input" dir="rtl" />
 <i class="fas fa-search search-icon"></i>
</div>

<div class="toggle-buttons">
 <button class="toggle-button" (click)="toggleTable('exitAuthorizations')" [class.active]="showExitAuthorizations">
  ุฃุฐููุงุช ุงูุฎุฑูุฌ
 </button>
 <button class="toggle-button" (click)="toggleTable('morningDelays')" [class.active]="!showExitAuthorizations">
  ุชุฃุฎูุฑุงุช ุงูุตุจุงุญ
 </button>
</div>

<div *ngIf="isLoading" class="spinner">Loading...</div>
<div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

<!-- Exit Authorizations Table -->
<div *ngIf="!isLoading && showExitAuthorizations && !errorMessage">
 <div class="table-container">
  <table class="authorization-table" dir="rtl">
   <thead>
    <tr>
     <th>ุงุณู ุงูููุธู</th>
     <th>ุงูุชุงุฑูุฎ</th>
     <th>ููุช ุงูุฎุฑูุฌ</th>
     <th>ููุช ุงูุนูุฏุฉ</th>
     <th>ููุน ุงูุฅุฐู</th>
     <th>ุงูุญุงูุฉ</th>
    </tr>
   </thead>
   <tbody>
    <tr *ngFor="let exit of filteredExitAuthorizations">
     <td>{{ exit.name }}</td>
     <td>{{ exit.day | date: 'MMM dd, yyyy' }}</td>
     <td>{{ exit.exitStartTime }}</td>
     <td>{{ exit.returnTime }}</td>
     <td>{{ exit.exitDescription }}</td>
     <td>
      <span *ngIf="exit.state === 'ููุจููุฉ'" class="status accepted">โ๏ธ ููุจููุฉ</span>
      <span *ngIf="exit.state === 'ูุฑููุถุฉ'" class="status rejected">โ ูุฑููุถุฉ</span>
      <span *ngIf="exit.state === 'ููุฏ ุงูุงูุชุธุงุฑ'" class="status pending">๐ ููุฏ ุงูุชูููุฐ</span>
     </td>
    </tr>
    <tr *ngIf="filteredExitAuthorizations.length === 0">
     <td colspan="6" class="empty-message">ูุง ุชูุฌุฏ ุฃุฐููุงุช ุฎุฑูุฌ ูุนุฑุถูุง.</td>
    </tr>
   </tbody>
  </table>
 </div>
</div>

<!-- Morning Delays Table -->
<div *ngIf="!isLoading && !showExitAuthorizations && !errorMessage">
 <div class="table-container">
  <table class="authorization-table" dir="rtl">
   <thead>
    <tr>
     <th>ุงุณู ุงูููุธู</th>
     <th>ุงูุชุงุฑูุฎ</th>
     <th>ููุช ุงูุชุฃุฎูุฑ</th>
     <th>ุงููุตู</th>
     <th>ุงูุญุงูุฉ</th>
    </tr>
   </thead>
   <tbody>
    <tr *ngFor="let delay of filteredMorningDelays">
     <td>{{ delay.name }}</td>
     <td>{{ delay.day | date: 'MMM dd, yyyy' }}</td>
     <td>{{ delay.time }}</td>
     <td>{{ delay.description }}</td>
     <td>
      <span *ngIf="delay.state === 'ููุจููุฉ'" class="status accepted">โ๏ธ ููุจููุฉ</span>
      <span *ngIf="delay.state === 'ูุฑููุถุฉ'" class="status rejected">โ ูุฑููุถุฉ</span>
      <span *ngIf="delay.state === 'ููุฏ ุงูุงูุชุธุงุฑ'" class="status pending">๐ ููุฏ ุงูุชูููุฐ</span>
     </td>
    </tr>
    <tr *ngIf="filteredMorningDelays.length === 0">
     <td colspan="5" class="empty-message">ูุง ุชูุฌุฏ ุชุฃุฎูุฑุงุช ูุนุฑุถูุง.</td>
    </tr>
   </tbody>
  </table>
 </div>
</div>