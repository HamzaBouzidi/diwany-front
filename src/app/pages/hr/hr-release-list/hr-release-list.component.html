<div class="toggle-container">
 <button class="toggle-button" [class.active]="currentView === 'releases'" (click)="toggleView('releases')">
  ุทูุจุงุช ุงูุฅุฎูุงุก
 </button>
 <button class="toggle-button" [class.active]="currentView === 'work-periods'" (click)="toggleView('work-periods')">
  ูุชุฑุงุช ุงูุนูู
 </button>
</div>

<div class="search-container" *ngIf="currentView === 'releases'">
 <input type="text" [(ngModel)]="searchTerm" placeholder="ุงุจุญุซ ุนู ุงููุฏูุฑ ุฃู ุงูุฅุฏุงุฑุฉ ุฃู ุงูููุธู" class="search-input"
  dir="rtl" />
 <i class="fas fa-search search-icon"></i>
</div>

<!-- Releases Table -->
<div *ngIf="currentView === 'releases' && !isLoading && !errorMessage">
 <div class="table-container">
  <table class="release-table" dir="rtl">
   <thead>
    <tr>
     <th>ุงุณู ุงูููุธู</th>
     <th>ุงูุฅุฏุงุฑุฉ</th>
     <th>ุงุณู ุงููุฏูุฑ</th>
     <th>ุงูุญุงูุฉ</th>
    </tr>
   </thead>
   <tbody>
    <tr *ngFor="let release of filteredReleases" (click)="showReason(release)" class="clickable-row">
     <td>{{ release.employeeName }}</td>
     <td>{{ release.department }}</td>
     <td>{{ release.directorName }}</td>
     <td>
      <span *ngIf="release.state === 'Approved'" class="status accepted">โ๏ธ ููุจููุฉ</span>
      <span *ngIf="release.state === 'Rejected'" class="status rejected">โ ูุฑููุถุฉ</span>
      <span *ngIf="release.state === 'Pending'" class="status pending">๐ ููุฏ ุงูุชูููุฐ</span>
     </td>
    </tr>
    <tr *ngIf="filteredReleases.length === 0">
     <td colspan="4" class="empty-message">ูุง ุชูุฌุฏ ุทูุจุงุช ุฅุฎูุงุก ูุนุฑุถูุง.</td>
    </tr>
   </tbody>
  </table>
 </div>
</div>

<!-- Work Periods Table -->
<div *ngIf="currentView === 'work-periods' && !isLoading && !errorMessage">
 <div class="table-container">
  <table class="work-period-table" dir="rtl">
   <thead>
    <tr>
     <th>ุงุณู ุงูููุธู</th>
     <th>ุจุฏุงูุฉ ุงููุชุฑุฉ</th>
     <th>ููุงูุฉ ุงููุชุฑุฉ</th>
    </tr>
   </thead>
   <tbody>
    <tr *ngFor="let period of filteredWorkPeriods" class="clickable-row">
     <td>{{ period.employeeName }}</td>
     <td>{{ period.startDate }}</td>
     <td>{{ period.endDate }}</td>
    </tr>
    <tr *ngIf="filteredWorkPeriods.length === 0">
     <td colspan="3" class="empty-message">ูุง ุชูุฌุฏ ูุชุฑุงุช ุนูู ูุนุฑุถูุง.</td>
    </tr>
   </tbody>
  </table>
 </div>
</div>

<!-- Modal for showing reasons -->
<div *ngIf="isModalVisible" class="modal">
 <div class="modal-content">
  <button class="close-button" (click)="closeModal()">โ</button>
  <h3>ุงูุณุจุจ</h3>
  <p>{{ selectedReason }}</p>
 </div>
</div>