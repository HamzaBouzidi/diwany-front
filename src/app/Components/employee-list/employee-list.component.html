<h2>ุฅุฏุงุฑุฉ ุงูููุธููู</h2>

<!-- ๐ Search Bar -->
<div class="search-container">
 <input type="text" class="search-input" placeholder=" ุงุจุญุซ ุนู ููุธู..." [(ngModel)]="searchQuery">
</div>

<!-- ๐ Users Table -->
<table class="user-table">
 <thead>
  <tr>
   <th>ุงูุงุณู</th>
   <th> ุงูุฑูู ุงููุธููู</th>
   <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
   <th>ุงููุงุชู</th>
   <th>ุงูุฅุฌุฑุงุกุงุช</th>
  </tr>
 </thead>
 <tbody>
  <tr *ngFor="let user of filteredUsers()" (click)="openEditPermissionsModal(user)" class="clickable-row">
   <td>{{ user.user_name }}</td>
   <td>{{ user.user_ref_emp }}</td>
   <td>{{ user.user_email }}</td>
   <td>{{ user.user_phone }}</td>

   <td>

    <button class="btn delete-btn" (click)="deleteUser(user.USER_ID)">๐ ุญุฐู</button>
   </td>
  </tr>
  <tr *ngIf="filteredUsers().length === 0">
   <td colspan="7" class="empty-message">ูุง ููุฌุฏ ูุณุชุฎุฏููู.</td>
  </tr>
 </tbody>
</table>

<!-- ๐ Notification Popup -->
<div *ngIf="showNotification" class="notification-popup">
 <span>{{ notificationMessage }}</span>
 <button class="close-btn" (click)="closeNotification()">ร</button>
</div>
<!-- โ๏ธ Edit Permissions Modal -->
<div *ngIf="isModalVisible" class="modal">
 <div class="modal-content">
  <button class="close-button" (click)="closeModal()">โ</button>
  <h3>ุชุนุฏูู ุตูุงุญูุงุช ุงููุณุชุฎุฏู</h3>

  <div class="permissions-group">
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_vacation']"> ุทูุจ ุฅุฌุงุฒุฉ</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_vacation_list']"> ูุงุฆูุฉ ุงูุฅุฌุงุฒุงุช</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_exit_auth']"> ุทูุจ ุฅุฐู ุฎุฑูุฌ</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_exit_auth_list']"> ูุงุฆูุฉ ุฃุฐููุงุช
    ุงูุฎุฑูุฌ</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_morning_delay']"> ุทูุจ ุชุฃุฎูุฑ
    ุตุจุงุญู</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_morning_delay_list']"> ูุงุฆูุฉ ุงูุชุฃุฎูุฑ
    ุงูุตุจุงุญู</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_nomination']"> ุทูุจ ุชุฑุดูุญ</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_nomination_list']"> ูุงุฆูุฉ ุงูุชุฑุดูุญุงุช</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_pledge']"> ุทูุจ ุชุนูุฏ</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_pledge_list']"> ูุงุฆูุฉ ุงูุชุนูุฏุงุช</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_release']"> ุทูุจ ุฅูุฑุงุฌ</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_release_list']"> ูุงุฆูุฉ ุงูุฅูุฑุงุฌุงุช</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_cin']"> ุทูุจ ุจุทุงูุฉ ุงููููุฉ</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_cin_list']"> ุนุฑุถ ุจุทุงูุงุช ุงููููุฉ</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_health_assurance']"> ุทูุจ ุชุฃููู
    ุตุญู</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_health_assurance_list']"> ุนุฑุถ ุงูุชุฃููู
    ุงูุตุญู</label>

   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['request_reports']"> ุทูุจ ุชูุงุฑูุฑ</label>
   <label><input type="checkbox" [(ngModel)]="selectedUser.permissions['view_reports']"> ุนุฑุถ ุงูุชูุงุฑูุฑ</label>
  </div>

  <!-- โ Save Button -->
  <button class="save-btn" (click)="updateUserPermissions()">ุญูุธ ุงูุชุนุฏููุงุช</button>
 </div>
</div>